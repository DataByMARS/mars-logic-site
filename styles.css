/* ================================================================
   MARS — Modern Analytics & Research Solutions
   Design v8.2 — full-screen hero, equal-size buttons, mobile top-load
   ================================================================ */

/* ---------- Brand tokens ---------- */
:root{
  --martian-red:#a21e24;
  --stellar-grey:#676767;
  --deep-space:#1e1853;
  --star-dust:#f7f6f3;
  --white:#ffffff;

  --bg:var(--white);
  --text:#1b1b1b;
  --muted:#454545;

  --max:1140px;
  --radius:12px;
  --shadow:0 8px 22px rgba(0,0,0,.06);
  --focus:2px solid var(--deep-space);

  --header-h:72px;          /* sticky header height used for offsets */
  --space-xl:96px;
  --space-lg:72px;
  --space-md:48px;
  --space-sm:24px;
}

/* ---------- Base / reset ---------- */
*{ box-sizing:border-box; }

/* Smooth by default; disable on touch to prevent iOS initial jump */
html{ scroll-behavior:smooth; }
@media (hover:none) and (pointer:coarse){
  html{ scroll-behavior:auto; }
}

body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height:1.75;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
img{ max-width:100%; height:auto; display:block; }
a{ color:var(--deep-space); text-decoration:none; }
a:focus-visible, button:focus-visible{ outline:var(--focus); outline-offset:2px; }
.container{ max-width:var(--max); margin:0 auto; padding:0 24px; }

/* Accessible hide */
.visually-hidden{
  position:absolute !important; height:1px; width:1px; overflow:hidden;
  clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; margin:-1px;
}

h1,h2,h3{ margin:0 0 10px; line-height:1.15; font-weight:700; letter-spacing:.2px; }
h1{ font-size:clamp(2.6rem, 1.6rem + 3.5vw, 4.2rem); color:var(--deep-space); }
h2{ font-size:clamp(1.6rem, 1.2rem + 1.4vw, 2.2rem); color:var(--deep-space); }
h3{ font-size:1.1rem; color:var(--deep-space); }
p{ margin:0 0 12px; color:var(--muted); }
.lede{ color:var(--stellar-grey); max-width:760px; margin:0 auto var(--space-sm); }

/* ================================================================
   Header / Navigation
   ================================================================ */
.site-header{
  position:sticky; top:0; z-index:1000;
  background:#fff; border-bottom:1px solid #ececec;
  box-shadow:0 2px 6px rgba(0,0,0,.03);
}
.nav{
  max-width:var(--max); margin:0 auto; padding:12px 24px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.brand img{ height:auto; max-height:32px; max-width:170px; object-fit:contain; }

/* primary nav */
.nav-list{
  list-style:none; display:flex; align-items:center; gap:20px; margin:0; padding:0;
}
.nav-list a{
  color:var(--deep-space); font-weight:600; letter-spacing:.2px;
  padding:10px 8px; border-radius:8px; transition:color .15s ease, background .15s ease;
}
.nav-list a::after{ content:none; }

.nav-toggle{ display:none; background:transparent; border:0; padding:6px; cursor:pointer; }
.nav-toggle .bar{ display:block; width:22px; height:2px; background:#2b2b2b; margin:4px 0; border-radius:2px; }

/* ================================================================
   Sections / Utilities / Buttons
   ================================================================ */
.section{ padding:var(--space-xl) 0; }

/* Full-screen hero: small-viewport height minus sticky header */
.section--hero{
  min-height:calc(100svh - var(--header-h));
  display:grid; place-items:center;
  padding:0; text-align:center;
  background:#fff;
}
.hero-content{ padding:24px; }

/* Kicker (visible section “title” chips) */
.kicker{
  display:inline-block;
  font-size:clamp(1.05rem, .9rem + .6vw, 1.25rem);
  letter-spacing:.35px;
  font-weight:700;
  text-transform:uppercase;
  padding:12px 20px;
  border-radius:999px;
  background:var(--deep-space);
  color:#fff;
  margin-bottom:16px;
}
.kicker--light{ background:rgba(255,255,255,.22); }

/* Hero subtitle: two lines */
.hero-subtitle{ margin-top:10px; }
.hero-subtitle .subtitle-line{ display:block; line-height:1.6; }
.hero-subtitle .subtitle-line:first-child{ margin-bottom:4px; }

/* Equal-size buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  font-weight:700; letter-spacing:.2px; line-height:1;
  height:56px; min-width:220px; padding:0 24px;
  border-radius:12px; border:2px solid transparent;
  user-select:none; cursor:pointer; white-space:nowrap;
  box-shadow:var(--shadow);
  transition:transform .15s ease, background .15s ease, color .15s ease, border-color .15s ease;
}
.btn--primary{ background:var(--martian-red); color:#fff; }
.btn--primary:hover{ transform:translateY(-1px); background:#8c181f; }

.btn--outline{ background:#fff; color:var(--deep-space); border-color:var(--deep-space); }
.btn--outline:hover{ background:var(--deep-space); color:#fff; transform:translateY(-1px); }

/* Light-on-dark button */
.btn--light{ background:#fff; color:var(--deep-space); border:2px solid #fff; }
.section--deep .btn--light:hover{ background:transparent; color:#fff; }

/* CTA row */
.cta-row{
  display:flex; justify-content:center; align-items:center; flex-wrap:wrap;
  gap:16px; text-align:center; margin-top:18px;
}

/* Bands */
.section--band{
  background:var(--star-dust);
  border-top:1px solid #ececec;
  border-bottom:1px solid #ececec;
}
.section--deep{
  background:var(--deep-space);
  color:#fff;
}
.section--deep p,
.section--deep h2,
.section--deep h3,
.section--deep a{ color:#fff; }
.section--deep .lede{ color:#e7e7ef; }

/* Anchor offset so sticky header doesn't cover content */
#home, #about, #services, #contact{ scroll-margin-top: var(--header-h); }

/* ================================================================
   ABOUT — narrative + responsive visual (no reflow)
   ================================================================ */
.about-flow .about-lede{
  text-align:left; color:var(--stellar-grey);
  line-height:1.9; margin:0 0 var(--space-md) 0;
  max-width:860px;
}
.about-columns{
  display:grid; grid-template-columns:1.35fr .9fr; gap:40px; align-items:start;
}
.about-content{ display:flex; flex-direction:column; gap:28px; }

/* Narrative blocks */
.about-block{ padding-left:18px; border-left:3px solid var(--deep-space); }
.about-block h3{ margin:0 0 8px 0; font-weight:600; }
.about-block p{ margin:0; }

/* Visual column with reserved height */
.about-visual{
  background:#fff; border:1px solid #ececec; border-radius:12px; padding:12px;
  box-shadow:var(--shadow);
  aspect-ratio:16/9;            /* reserves height before image loads */
}
.about-visual img{
  width:100%; height:100%;
  object-fit:cover; object-position:center; border-radius:8px;
}

/* ================================================================
   SERVICES — modern grid with hover watermark
   ================================================================ */
.services-grid{
  display:grid; grid-template-columns:repeat(3,1fr); gap:20px;
  margin-top:var(--space-sm);
}
.service.card{
  position:relative; overflow:hidden;
  background:#fff; border:1px solid #eaeaea; border-radius:var(--radius);
  padding:18px 18px 20px; box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .15s ease, border-top-color .15s ease;
  border-top:4px solid var(--deep-space);
  display:flex; flex-direction:column; min-height:100%;
}
.service.card:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 28px rgba(0,0,0,.08);
  border-top-color:var(--martian-red);
}
.service.card::after{
  content:"";
  position:absolute; inset:0;
  background-image:url("assets/logo-icon.png");
  background-repeat:no-repeat;
  background-position:center center;
  background-size:120px 120px;
  opacity:0; pointer-events:none; transition:opacity .2s ease;
  filter:grayscale(100%) contrast(80%) brightness(110%);
}
.service.card:hover::after{ opacity:.06; }

.service h3{ margin:.2rem 0 .35rem; font-size:1.07rem; }
.service p{ margin:0; color:var(--stellar-grey); }

.service-icon{
  width:36px; height:36px; border-radius:8px; margin-bottom:10px;
  background:#efeff7;
}

/* ================================================================
   CONTACT — deep-space band
   ================================================================ */
.section.contact{ padding:var(--space-lg) 0 var(--space-xl); }
.contact-inner{ max-width:900px; }
.contact-lede{
  color:#dfe0ee; max-width:760px; margin:6px 0 var(--space-sm) 0;
}
.contact-email{ margin-bottom:var(--space-sm); }
.contact-link{ color:#fff; text-decoration:underline; text-underline-offset:3px; }

/* ================================================================
   MOBILE BACK-TO-TOP LOGO
   ================================================================ */
.back-to-top{
  position:fixed;
  right:16px;
  bottom:calc(16px + env(safe-area-inset-bottom, 0px));
  z-index:1200;
  width:56px; height:56px;
  display:none;
  border-radius:50%;
  background:#fff;
  box-shadow:0 10px 22px rgba(0,0,0,.15);
  border:1px solid #ececec;
  align-items:center; justify-content:center;
}
.back-to-top img{ width:32px; height:32px; display:block; }
.back-to-top:active{ transform:scale(.98); }

/* ================================================================
   FOOTER
   ================================================================ */
.site-footer{ background:#fff; border-top:2px solid rgba(30,24,83,.18); }
.footer-inner{
  padding:calc(var(--space-sm) + 4px) 0 var(--space-sm);
  text-align:center; color:var(--stellar-grey);
}
.footer-mark{
  display:block;
  margin:0 auto 10px auto;
  width:clamp(34px, 5.2vw, 54px);
  height:auto;
  opacity:.9;
}

/* ================================================================
   Responsive
   ================================================================ */
@media (max-width:1080px){
  .container{ padding:0 20px; }
}

@media (max-width:980px){
  .about-columns{ grid-template-columns:1fr; gap:28px; }
  .services-grid{ grid-template-columns:repeat(2,1fr); }
}

@media (max-width:720px){
  .brand img{ max-height:28px; max-width:140px; }
  .section{ padding:var(--space-lg) 0; }
  /* full-screen hero already set; keep the section padding off */
  .back-to-top{ display:flex; }
}

@media (max-width:680px){
  .nav-toggle{ display:block; }
  #primary-nav{
    position:absolute; top:64px; right:16px; left:16px;
    background:#fff; border:1px solid #e9e9e9; border-radius:10px;
    box-shadow:var(--shadow); padding:10px; display:none;
  }
  #primary-nav.open{ display:block; }
  .nav-list{ flex-direction:column; align-items:stretch; gap:6px; }
  .nav-list a{ padding:10px 12px; border-radius:8px; }

  .services-grid{ grid-template-columns:1fr; }
  .cta-row{ justify-content:center; }
}

/* ================================================================
   Micro-polish
   ================================================================ */
a:hover{ color: var(--martian-red); }